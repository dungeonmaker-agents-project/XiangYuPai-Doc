# 11-服务列表页面

## 一、页面概述

### 页面信息
- **路由路径**: `/service/list`
- **页面名称**: 技能服务列表
- **用户角色**: 所有用户
- **页面类型**: Tab列表页面

### 页面功能
服务列表页面展示特定技能的服务提供者。用户可以:
1. 浏览服务提供者列表
2. 切换Tab(荣耀王者/线上/线下/我的)
3. 使用排序和筛选功能
4. 点击服务提供者查看详情

### 进入方式
- 从首页点击技能服务入口(如:"王者荣耀")

---

## 二、页面UI结构

### 2.1 顶部导航栏
```
[返回] | 王者荣耀 |
```

### 2.2 Tab栏
```
[ 荣耀王者 ] | [ 线上 ] | [ 线下 ] | [ 我的 ]
```

### 2.3 筛选栏
```
[智能排序 ▼] | [不限性别 ▼] | [筛选 ▲]
```

### 2.4 服务提供者卡片
```
+----------------------------------+
| [头像]  昵称 ♂ 19      3.2km    |
|         [可线上][2元][打野]     |
|         描述文字...              |
|                   10 金币/局 →  |
+----------------------------------+
```

---

## 三、接口列表

### 3.1 页面加载时调用

#### 1. 获取服务列表
**接口:** `GET /api/service/list`

**请求参数:**
```typescript
{
  skillType: string;
  pageNum: number;
  pageSize: number;
  sortBy?: string;
  filters?: {
    status?: 'online' | 'active_3d' | 'active_7d';
    gender?: 'all' | 'male' | 'female';
    gameArea?: string;
    rank?: string[];
    priceRange?: string[];
    position?: string[];
    tags?: string[];
    location?: 'same_city';
    cityCode?: string;
  };
}
```

**响应数据:**
```typescript
{
  code: number;
  message: string;
  data: {
    skillType: {type: string; label: string; icon?: string};
    tabs: Array<{value: string; label: string; count?: number}>;
    filters: {
      sortOptions: Array<{value: string; label: string}>;
      genderOptions: Array<{value: string; label: string}>;
      statusOptions: Array<{value: string; label: string}>;
      gameAreas?: Array<{value: string; label: string}>;
      ranks?: Array<{value: string; label: string}>;
      priceRanges?: Array<{value: string; label: string; min: number; max: number | null}>;
      positions?: Array<{value: string; label: string}>;
      tags?: Array<{value: string; label: string}>;
    };
    total: number;
    hasMore: boolean;
    list: Array<{
      serviceId: number;
      provider: {
        userId: number;
        avatar: string;
        nickname: string;
        gender: 'male' | 'female';
        age?: number;
        isOnline: boolean;
        isVerified: boolean;
      };
      skillInfo: {
        skillType: string;
        gameArea?: string;
        rank?: string;
        rankScore?: number;
        position?: string[];
      };
      tags: Array<{text: string; type: string; color?: string}>;
      description: string;
      price: {amount: number; unit: string; displayText: string};
      distance?: number;
      stats: {orders: number; rating: number; reviewCount: number};
    }>;
  }
}
```

---

## 四、数据流

### 4.1 页面打开流程
```
1. 用户点击技能服务入口(如:"王者荣耀")
2. 调用GET /api/service/list (skillType='王者荣耀')
3. 显示Loading骨架屏
4. 收到响应 → 渲染服务提供者列表
```

### 4.2 筛选流程
```
1. 用户打开高级筛选面板
2. 选择筛选条件
3. 点击"完成"
4. 清空列表,重置pageNum=1
5. 调用接口获取筛选后列表
```

---

## 五、路由参数

### 进入参数
```typescript
{
  skillType: string;  // 技能类型(必填)
}
```

### 跳转目标

#### 点击服务卡片
```typescript
this.$router.push({
  path: '/service/detail',
  query: { serviceId: service.serviceId }
});
```

---

## 六、使用的后端服务

### ServiceService
- `GET /api/service/list` - 获取服务列表

---

**文档版本**: v1.0
**最后更新**: 2025-01-XX
**维护者**: 前端团队
