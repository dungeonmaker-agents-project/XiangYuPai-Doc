# 王者荣耀技能服务列表页 PRD

> **版本**: v1.0
> **更新日期**: 2025-12-08
> **关联文档**: [王者荣耀陪玩列表页_结构文档.md](./王者荣耀陪玩列表页_结构文档.md)

---

## 1. 产品概述

### 1.1 页面信息

| 属性 | 值 |
|------|------|
| 页面名称 | 王者荣耀技能服务列表页 |
| 页面标识 | GameSkillListPage |
| 所属模块 | GameSkill (游戏技能服务) |
| 页面类型 | 列表页 |
| 入口路径 | 首页 → 游戏分类卡片 → 王者荣耀 |
| 路由 | `/skill/list?gameId={gameId}` |
| 深链接 | `xyp://skill/list/{gameId}` |

### 1.2 核心价值

帮助用户快速找到符合自己需求的王者荣耀陪玩师/代练师，通过多维度筛选（段位、性别、价格、位置等）精准匹配，提升用户找到心仪陪玩师的效率和体验。

### 1.3 页面截图参考

```
┌─────────────────────────────────────────────────────────────┐
│  ←        王者荣耀                                          │  导航栏
├─────────────────────────────────────────────────────────────┤
│  智能排序 ▼       不限性别 ▼          筛选 ▼               │  筛选栏
├─────────────────────────────────────────────────────────────┤
│  [荣耀王者] [带粉上分] [电竞陪练师] [陪玩] [大神专场] →     │  Tab栏
├─────────────────────────────────────────────────────────────┤
│  ┌───────┐  昵称123  ♀19                    3.2km          │
│  │ 头像  │  [实名认证] [大神]                              │
│  │       │  主打野其他位置都能补 能c技术万战韩信...        │  列表
│  │       │  微信区 荣耀王者 巅峰1800+     10 金币/局       │
│  └───────┘                                                 │
│  ─────────────────────────────────────────────────────     │
│  ... 更多卡片                                               │
└─────────────────────────────────────────────────────────────┘
```

---

## 2. 目标用户与使用场景

### 2.1 目标用户

| 用户类型 | 特征 | 核心诉求 |
|---------|------|---------|
| 新手玩家 | 段位较低，希望快速提升 | 找到能带上分的大神，性价比高 |
| 休闲玩家 | 偶尔玩游戏，社交需求强 | 找到聊得来、声音好听的陪玩 |
| 竞技玩家 | 高段位，追求游戏体验 | 找到技术过硬、配合默契的队友 |
| 女性玩家 | 注重安全感和沟通 | 找到耐心指导、不喷人的陪玩师 |

### 2.2 典型场景

| 场景 | 用户行为 | 预期结果 |
|------|---------|---------|
| 场景1: 快速找人 | 用户想打几局排位，打开列表直接浏览 | 看到在线的陪玩师，一键下单 |
| 场景2: 精准筛选 | 用户想找同段位+同大区的陪玩师 | 使用筛选面板设置条件，快速定位 |
| 场景3: 性别偏好 | 用户只想和女生/男生玩 | 切换性别筛选，列表只显示目标性别 |
| 场景4: 同城社交 | 用户想找同城的陪玩师 | 使用"同城"筛选，看到距离较近的陪玩师 |
| 场景5: 服务类型 | 用户想找代练而非陪玩 | 切换Tab到"带粉上分"，看到代练服务 |

---

## 3. 功能需求

### 3.1 功能清单

| 功能模块 | 功能点 | 优先级 | 说明 |
|---------|-------|--------|------|
| 导航 | 返回上一页 | P0 | 左上角返回按钮 |
| 导航 | 显示页面标题 | P0 | 显示"王者荣耀" |
| 筛选 | 排序筛选 | P0 | 智能/最新/最近/人气 |
| 筛选 | 性别筛选 | P0 | 不限/只看女生/只看男生 |
| 筛选 | 高级筛选面板 | P0 | 状态/大区/段位/价格/位置/标签/所在地 |
| Tab | 服务类型切换 | P0 | 荣耀王者/带粉上分/电竞陪练师/陪玩/大神专场 |
| 列表 | 展示陪玩师卡片 | P0 | 头像、昵称、标签、描述、价格 |
| 列表 | 下拉刷新 | P0 | 重新加载首页数据 |
| 列表 | 上拉加载更多 | P0 | 分页加载 |
| 列表 | 点击跳转详情 | P0 | 进入陪玩师详情页 |
| 状态 | 骨架屏 | P1 | 首次加载时显示 |
| 状态 | 空状态 | P1 | 无符合条件数据时显示 |
| 状态 | 错误提示 | P1 | 加载失败时显示 |

### 3.2 功能详述

#### 3.2.1 导航区域 (NavArea)

**功能描述**: 页面顶部导航栏，提供返回和标题展示功能。

**UI规格**:
- 高度: 44px
- 背景: 白色
- 标题: "王者荣耀"，17sp，粗体，居中
- 返回按钮: 左侧，图标"<"

**交互流程**:
1. 用户点击返回按钮
2. 系统调用 `navigation.goBack()`
3. 返回上一页面

#### 3.2.2 筛选区域 (FilterArea)

**功能描述**: 提供排序、性别、高级筛选三种筛选方式。

**UI规格**:
- 高度: 44px
- 布局: 三等分，点击展开下拉/面板
- 文字: 14sp，#333333
- 箭头: 向下三角，展开时向上

##### 3.2.2.1 排序筛选

| 选项值 | 显示文案 | 说明 |
|-------|---------|------|
| smart | 智能排序 | 默认，综合订单数、评分、在线状态 |
| newest | 最新排序 | 按创建时间倒序 |
| recent | 最近排序 | 按最近活跃时间倒序 |
| popular | 人气排序 | 按订单数倒序 |

##### 3.2.2.2 性别筛选

| 选项值 | 显示文案 | 说明 |
|-------|---------|------|
| all | 不限性别 | 默认，显示所有 |
| female | 只看女生 | 仅显示女性陪玩师 |
| male | 只看男生 | 仅显示男性陪玩师 |

##### 3.2.2.3 高级筛选面板

点击"筛选"展开全屏筛选面板：

| 筛选维度 | 类型 | 选项 |
|---------|------|------|
| 状态 | 单选 | 在线 |
| 大区 | 多选 | QQ区、微信区 |
| 段位 | 多选 | 尊贵铂金、永恒钻石、至尊星耀、最强王者、荣耀王者 |
| 价格 | 单选 | 4-9币、10-19币、20币以上 |
| 位置 | 多选 | 打野、上路、中路、下路、辅助、全能 |
| 标签 | 多选 | 荣耀王者、大神认证、巅峰赛、带粉上分、官方认证、声优陪玩 |
| 所在地 | 单选 | 同城 |

**面板底部按钮**:
- 重置: 清空所有筛选条件
- 完成: 应用筛选条件，关闭面板

**业务规则**:
- 每次修改筛选条件后，自动重置分页为第1页
- 筛选条件间为"与"关系
- 已选条件通过文字颜色/角标提示

#### 3.2.3 服务类型Tab (TabArea)

**功能描述**: 水平滚动的服务类型切换Tab。

**UI规格**:
- 高度: 40px
- 布局: flex-row，水平滚动
- Tab间距: 8px
- Tab样式:
  - 选中态: 紫色背景 #F5E6FF，紫色文字 #9B59B6，圆角16px
  - 默认态: 灰色背景 #F5F5F5，灰色文字 #999999，圆角16px

**Tab列表**:
| key | label | 说明 |
|-----|-------|------|
| glory_king | 荣耀王者 | 荣耀王者段位陪玩 |
| boost | 带粉上分 | 代练/带上分服务 |
| coach | 电竞陪练师 | 专业教练指导 |
| play_together | 陪玩 | 普通陪玩服务 |
| expert | 大神专场 | 认证大神 |

**交互流程**:
1. 用户点击某个Tab
2. Tab切换为选中态（紫色高亮）
3. 触发列表接口调用 (serviceType=tabKey, page=1)
4. 替换列表内容

#### 3.2.4 陪玩师列表 (ContentListArea)

**功能描述**: 展示符合筛选条件的陪玩师列表。

**UI规格**:
- 布局: 垂直列表，卡片间距12px
- 卡片高度: 约160px
- 背景: 白色

##### 陪玩师卡片 (SkillServiceCard)

```
┌─────────────────────────────────────────────────────────────────────┐
│  ┌─────────────┐  昵称123  ♀19                           3.2km     │
│  │             │  [✓实名认证] [👑大神]                              │
│  │   Avatar    │                                                   │
│  │  120x160    │  主打野其他位置都能补 能c技术万战韩信             │
│  │             │  这里是技能介绍这里...                             │
│  │             │                                                   │
│  │             │  微信区  荣耀王者  巅峰1800+          10 金币/局   │
│  └─────────────┘                                                   │
└─────────────────────────────────────────────────────────────────────┘
```

**卡片数据字段**:

| 区域 | 字段 | 来源 | 样式 |
|------|------|------|------|
| 头像区 | avatarUrl | users.avatar | 120x160px，圆角8px |
| 基础信息 | nickname | users.nickname | 16sp，粗体，#333 |
| 基础信息 | gender+age | users.gender, 计算age | ♀19 粉色背景/♂19 蓝色背景 |
| 基础信息 | distance | 计算距离 | 12sp，#999，右对齐 |
| 认证标签 | badges | verificationData | 蓝底白字/黄底紫字 |
| 描述 | description | skills.description | 13sp，#666，2行省略 |
| 标签 | tags | gameAttrs | 12sp，紫色 |
| 价格 | price + unit | skills.price | 20sp粉色粗体 + 12sp#999 |

**列表交互**:

| 操作 | 触发条件 | 系统响应 |
|------|---------|---------|
| 下拉刷新 | 下拉超过60px | 调用listApi(page=1)，清空重置列表 |
| 上拉加载 | 滚动到距底100px | 调用listApi(page+1)，追加数据 |
| 点击卡片 | 点击任意卡片区域 | 跳转到陪玩师详情页 |

---

## 4. 页面状态

| 状态 | 触发条件 | 显示内容 | 用户操作 |
|------|---------|---------|---------|
| Loading (首屏) | isLoading=true && page=1 | 骨架屏 (3-4张卡片占位) | 等待 |
| Loading (加载更多) | isLoading=true && page>1 | 列表底部显示Loading动画 | 等待 |
| Refreshing | isRefreshing=true | 顶部下拉刷新动画 | 等待 |
| Error | isError=true | 错误提示文案 + 重试按钮 | 点击重试 |
| Empty | list.length=0 | 空状态插图 + "暂无符合条件的陪玩师" | 修改筛选条件 |
| End | hasMore=false | 列表底部显示"已经到底啦~" | - |
| Normal | 数据正常 | 正常列表内容 | 浏览、筛选、点击 |

---

## 5. 业务规则

### 5.1 数据规则

| 规则 | 说明 |
|------|------|
| 默认排序 | 智能排序：综合订单数、评分、在线状态、最近活跃 |
| 分页规则 | 每页20条，上拉加载更多 |
| 缓存策略 | 配置接口缓存30分钟，列表接口不缓存 |
| 距离计算 | 需获取用户定位权限，使用ST_Distance_Sphere计算 |
| 年龄计算 | TIMESTAMPDIFF(YEAR, birthday, CURDATE()) |

### 5.2 筛选联动规则

| 规则 | 说明 |
|------|------|
| 筛选重置分页 | 任何筛选条件变化，page重置为1 |
| Tab切换清空筛选 | 切换Tab时，保留排序和性别筛选，清空高级筛选 |
| 组合筛选 | 所有筛选条件为AND关系 |
| 同城筛选 | 需要用户已授权定位权限 |

### 5.3 权限规则

| 操作 | 权限要求 |
|------|---------|
| 浏览列表 | 无需登录 (游客可访问) |
| 查看距离 | 需授权定位 |
| 同城筛选 | 需授权定位 |
| 点击进入详情 | 无需登录 |
| 下单 | 需登录 |

---

## 6. 数据埋点

| 事件名称 | 触发时机 | 上报参数 | 用途 |
|---------|---------|---------|------|
| page_view | 页面曝光 | gameId, source | PV统计 |
| filter_click | 点击筛选项 | filterType, value | 筛选偏好分析 |
| tab_switch | 切换Tab | tabKey | 服务类型偏好 |
| card_click | 点击卡片 | skillId, userId, position | 点击率统计 |
| card_expose | 卡片曝光 | skillId, userId, position | 曝光率统计 |
| refresh | 下拉刷新 | - | 刷新行为统计 |
| load_more | 上拉加载 | page | 浏览深度统计 |
| filter_panel_open | 打开筛选面板 | - | 高级筛选使用率 |
| filter_panel_confirm | 确认筛选 | filters | 筛选条件统计 |

---

## 7. 验收标准

### 7.1 功能验收

- [ ] 页面正常加载，显示陪玩师列表
- [ ] 下拉刷新正常工作
- [ ] 上拉加载更多正常工作
- [ ] 排序筛选切换后列表正确更新
- [ ] 性别筛选切换后列表正确更新
- [ ] 高级筛选面板正常展开/关闭
- [ ] 高级筛选条件正确应用
- [ ] Tab切换后列表正确更新
- [ ] 点击卡片正确跳转详情页
- [ ] 返回按钮正确返回上一页
- [ ] 骨架屏在首屏加载时显示
- [ ] 空状态在无数据时显示
- [ ] 错误状态在加载失败时显示
- [ ] "已到底"提示在无更多数据时显示

### 7.2 性能要求

| 指标 | 要求 |
|------|------|
| 首屏加载 | < 2s (3G网络) |
| 列表滚动 | 60fps，无卡顿 |
| 接口响应 | < 500ms (正常网络) |
| 图片加载 | 懒加载，渐进式显示 |
| 内存占用 | 长列表滚动无内存泄漏 |

### 7.3 兼容性要求

| 平台 | 版本要求 |
|------|---------|
| iOS | iOS 13+ |
| Android | Android 8.0+ |
| 屏幕适配 | 支持全面屏、刘海屏、折叠屏 |

---

## 8. 优先级与里程碑

| 阶段 | 功能范围 | 优先级 | 预估工期 |
|------|---------|--------|---------|
| MVP | 列表展示、基础筛选(排序+性别)、分页 | P0 | 前端2天 + 后端2天 |
| V1.1 | 高级筛选面板、Tab切换 | P0 | 前端1天 + 后端1天 |
| V1.2 | 同城筛选、距离显示 | P1 | 前端0.5天 + 后端0.5天 |
| V1.3 | 数据埋点、性能优化 | P1 | 前端1天 |
| V2.0 | 收藏功能、分享功能 | P2 | 待定 |

---

## 9. 相关文档

| 文档 | 说明 |
|------|------|
| [王者荣耀陪玩列表页_结构文档.md](./王者荣耀陪玩列表页_结构文档.md) | UI结构和数据模型 |
| [王者荣耀陪玩列表页_前端执行文档.md](./王者荣耀陪玩列表页_前端执行文档.md) | 前端实现指南 |
| [王者荣耀陪玩列表页_后端执行文档.md](./王者荣耀陪玩列表页_后端执行文档.md) | 后端实现指南 |

---

*文档版本: v1.0*
*最后更新: 2025-12-08*
*编写人: Claude Code*
