# 我的(个人中心) Quick-Understanding

> **Quick Reference**
> | 项目 | 值 |
> |------|-----|
> | 路由 | `/profile` (底部Tab第4项) |
> | 功能入口 | 交易(4) + 更多内容(7) = 11个入口 |
> | 子模块 | 我的发布管理 → 我的订单管理 → 我的购买管理 → 报名 → 接单管理 → 金币/钱包 |
> | 页面类型 | 导航入口页 (无API调用,纯跳转) |
> | 文档完成度 | 1/10 子模块 ✅ (10%) |

## 📌 核心定位
用户个人中心入口页，聚合所有用户相关功能的导航页面。

**页面入口**: 底部TabBar → 我的
**页面标识**: ProfilePage
**所属模块**: Profile (一级模块)

## 🎯 主要功能
- **用户信息展示**: 头像、昵称、个性签名
- **交易管理入口**: 我的发布/订单/购买/报名
- **资产管理入口**: 钱包、金币
- **状态管理入口**: 接单状态设置
- **账户服务入口**: 个人中心、设置、客服、达人认证

## 📊 子模块状态总览

| 子模块 | 目录 | 截图 | 快速理解 | 状态 |
|--------|------|------|----------|------|
| 我的发布管理 | ✅ `我的发布管理/` | ✅ 多张 | ✅ [快速理解](我的发布管理/快速理解.md) | **完成** |
| 我的订单管理 | ✅ `我的订单管理/` | ✅ 3张 | ⏳ | 待补充 |
| 我的购买管理 | ✅ `我的购买管理/` | ✅ 3张 | ⏳ | 待补充 |
| 报名管理 | ✅ `报名/` | ✅ 3张 | ⏳ | 待补充 |
| 接单管理(状态) | ✅ `接单 管理/` | ✅ 5张 | ⏳ | 待补充 |
| 金币 | ✅ `金币/` | ✅ 4张 | ⏳ | 待补充 |
| 钱包 | ✅ `金币/钱包/` | ✅ 5张 | ⏳ | 待补充 |
| 支付密码 | ✅ `金币/支付密码/` | ✅ 2张 | ⏳ | 待补充 |
| 客服 | - | ✅ 1张 | ⏳ | 待补充 |
| 达人认证 | - | ✅ 1张 | ⏳ | 待补充 |
| 组队聚会活动管理 | ✅ `组队聚会活动管理/` | ✅ 5张 | ⏳ | 待补充 |

```
子模块进度统计
├── ✅ 完成: 1 (10%)
└── ⏳ 待补充: 10 (90%)
```

## 🌳 组件树

### 我的页面
```
【ProfilePage】[L1] /profile
├── HeaderArea [L2]                        # 紫色渐变背景区
│   └── UserInfoSection [L3]
│       ├── Avatar [L4]                    # 圆形头像
│       ├── Nickname [L4]                  # 用户昵称
│       └── Bio [L4]                       # 个性签名
├── TradeArea [L2]                         # 白色卡片「交易」
│   ├── MyPublicationsEntry [L3]           # 📝 我的发布
│   │   └── Icon + Label
│   ├── MyOrdersEntry [L3]                 # 📋 我的订单
│   │   └── Icon + Label
│   ├── MyPurchasesEntry [L3]              # 🛍️ 我的购买
│   │   └── Icon + Label
│   └── MyRegistrationsEntry [L3]          # 📩 我的报名
│       └── Icon + Label
├── MoreContentArea [L2]                   # 白色卡片「更多内容」
│   ├── Row1 [L3]                          # 第一行 (4列)
│   │   ├── ProfileCenterEntry [L4]        # 👤 个人中心
│   │   ├── StatusEntry [L4]               # 🔄 状态
│   │   ├── WalletEntry [L4]               # 💰 钱包
│   │   └── CoinsEntry [L4]                # 🪙 金币
│   └── Row2 [L3]                          # 第二行 (3列)
│       ├── SettingsEntry [L4]             # ⚙️ 设置
│       ├── CustomerServiceEntry [L4]      # 🎧 客服
│       └── ExpertCertificationEntry [L4]  # 👑 达人认证
└── BottomTabBar [L2]                      # 底部导航
    ├── HomeTab [L3]                       # 首页
    ├── DiscoverTab [L3]                   # 发现
    ├── MessageTab [L3]                    # 消息
    └── ProfileTab [L3] (active)           # 我的 ← 当前
```

## 📁 目录结构

```
我的业务模块/
├── 快速理解.md                    # 📋 本文档
├── 我的.png                       # 📸 页面截图
├── 我的-客服.png                  # 📸 客服页截图
├── 我的-达人认证.png              # 📸 达人认证页截图
│
├── 我的发布管理/                  # ✅ 发布管理 (完整)
│   ├── 快速理解.md               # 📋 子模块文档
│   ├── 我的发布/                 # 列表页
│   ├── 我的-我的发布-详情/       # 详情页
│   └── 我的-我的发布-详情-管理-编辑/  # 编辑页
│
├── 我的订单管理/                  # ⏳ 订单管理
│   ├── 我的-我的订单/            # 订单列表
│   └── 我的-我的订单-待接单查看/ # 订单详情
│
├── 我的购买管理/                  # ⏳ 购买管理
│   ├── 我的-我的购买.png
│   ├── 我的-我的购买-查看评价.png
│   └── 我的-我的订单-评价.png
│
├── 报名/                          # ⏳ 报名管理
│   ├── 我的-我的报名.png
│   ├── 我的-我的报名-见面码.png
│   └── 我的-我的报名-取消报名.png
│
├── 接单 管理/                     # ⏳ 接单状态管理
│   ├── 我的-状态-在线接单.png
│   ├── 我的-状态-暂不接单.png
│   └── 我的-状态-预约接单*.png   # 3张
│
├── 金币/                          # ⏳ 金币模块
│   ├── 金币.png
│   ├── 金币-账单明细.png
│   ├── 金币-确定充值*.png        # 2张
│   ├── 钱包/                     # 钱包子模块
│   │   ├── 钱包.png
│   │   ├── 钱包-提现*.png        # 2张
│   │   └── 钱包-账单明细*.png    # 2张
│   └── 支付密码/                 # 支付密码设置
│       ├── 设置.png
│       └── 设置-支付密码.png
│
└── 组队聚会活动管理/              # ⏳ 组局管理
    ├── 首页-组局中心-发布组局.png
    ├── 组局聚会-管理.png
    ├── 组队聚会-报名见面码.png
    └── 组队聚会-管理-选择达人*.png # 2张
```

## 🗺️ 页面导航流

```
                    ┌─────────────────────────────────────────┐
                    │           BottomTabBar                  │
                    │  [首页] [发现] [消息] [我的←当前]          │
                    └─────────────────┬───────────────────────┘
                                      │
                                      ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                         【ProfilePage】我的                              │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │ UserInfoSection: [头像] 用户名称 / 这个家伙很神秘...              │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  ┌─────────────────────「交易」─────────────────────┐                  │
│  │  [我的发布]    [我的订单]    [我的购买]    [我的报名]  │                  │
│  └───────┬────────────┬────────────┬────────────┬───┘                  │
│          │            │            │            │                       │
│  ┌───────┴────────────┴────────────┴────────────┴───────────────────┐  │
│  │                      「更多内容」                                  │  │
│  │  [个人中心]    [状态]      [钱包]      [金币]                      │  │
│  │  [设置]        [客服]      [达人认证]                              │  │
│  └───────┬─────────┬───────────┬───────────┬────────────────────────┘  │
│          │         │           │           │                            │
└──────────┼─────────┼───────────┼───────────┼────────────────────────────┘
           │         │           │           │
           ↓         ↓           ↓           ↓
┌──────────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐
│ 我的发布管理  │ │ 我的订单  │ │ 我的购买  │ │ 我的报名  │
│ /my-publish  │ │ /my-order │ │ /my-buy  │ │ /my-reg  │
└──────────────┘ └──────────┘ └──────────┘ └──────────┘

           ↓         ↓           ↓           ↓
┌──────────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐
│   个人中心    │ │   状态    │ │   钱包   │ │   金币    │
│  /profile/   │ │ /status  │ │ /wallet  │ │ /coins   │
│   center     │ │          │ │          │ │          │
└──────────────┘ └──────────┘ └──────────┘ └──────────┘

           ↓         ↓           ↓
┌──────────────┐ ┌──────────┐ ┌──────────┐
│    设置      │ │   客服    │ │ 达人认证  │
│  /settings   │ │ /service │ │ /verify  │
└──────────────┘ └──────────┘ └──────────┘
```

## 🎨 UI布局说明

### 页面结构
```
┌────────────────────────────────────┐
│ StatusBar (系统状态栏)              │ ← 透明融合
├────────────────────────────────────┤
│                                    │
│  ┌────┐                            │
│  │头像│  用户名称                   │ ← 渐变紫色背景
│  └────┘  个性签名                   │    #紫→#粉
│                                    │
├────────────────────────────────────┤
│ ┌────────────────────────────────┐ │
│ │ 交易                            │ │ ← 白色卡片
│ │ [图标] [图标] [图标] [图标]      │ │    圆角12px
│ │ 发布   订单   购买   报名        │ │    4等分布局
│ └────────────────────────────────┘ │
├────────────────────────────────────┤
│ ┌────────────────────────────────┐ │
│ │ 更多内容                        │ │ ← 白色卡片
│ │ [图标] [图标] [图标] [图标]      │ │    圆角12px
│ │ 个人   状态   钱包   金币        │ │    4列网格
│ │                                │ │
│ │ [图标] [图标] [图标]            │ │    3列网格
│ │ 设置   客服   达人认证          │ │
│ └────────────────────────────────┘ │
│                                    │
│           (空白区域)                │ ← 浅灰背景
│                                    │
├────────────────────────────────────┤
│ [首页] [发现] [消息] [我的]         │ ← 底部TabBar
└────────────────────────────────────┘
```

### 功能入口图标配色
| 入口 | 图标颜色 | 背景色 |
|------|----------|--------|
| 个人中心 | 橙色 | 浅蓝 |
| 状态 | 红色 | 浅蓝 |
| 钱包 | 黄色 | 浅蓝 |
| 金币 | 橙色 | 浅橙 |
| 设置 | 紫色 | 浅紫 |
| 客服 | 绿色 | 浅绿 |
| 达人认证 | 粉色 | 浅粉 |

## 📦 数据模型

### UserProfileSummary - 用户摘要信息
```
UserProfileSummary                    # 页面头部展示
├── userId: Long                     # 用户ID
├── avatar: String                   # 头像URL
├── nickname: String                 # 昵称
└── bio: String?                     # 个性签名 (可选)
    └── default: "这个家伙很神秘，没有填写简介"
```

### ProfileEntryItem - 功能入口项
```
ProfileEntryItem                      # 功能入口配置
├── key: String                      # 唯一标识 (my_publish等)
├── label: String                    # 显示文本
├── icon: String                     # 图标资源
├── route: String                    # 跳转路由
├── badge: Int?                      # 角标数字 (可选)
└── isVisible: Boolean               # 是否显示
```

## 🔑 核心接口

### 用户信息
| 接口 | 方法 | 说明 |
|------|------|------|
| `/api/user/profile/summary` | GET | 获取用户摘要信息 (头像/昵称/签名) |

### 角标统计 (可选)
| 接口 | 方法 | 说明 |
|------|------|------|
| `/api/user/badge/count` | GET | 获取各入口角标数 (待处理订单等) |

## 🔗 关联子模块

### 交易模块
| 入口 | 路由 | 子模块文档 | 状态 |
|------|------|-----------|------|
| 我的发布 | `/profile/my-publications` | [快速理解](我的发布管理/快速理解.md) | ✅ |
| 我的订单 | `/profile/my-orders` | 待创建 | ⏳ |
| 我的购买 | `/profile/my-purchases` | 待创建 | ⏳ |
| 我的报名 | `/profile/my-registrations` | 待创建 | ⏳ |

### 更多内容模块
| 入口 | 路由 | 子模块文档 | 状态 |
|------|------|-----------|------|
| 个人中心 | `/profile/center` | 待创建 | ⏳ |
| 状态 | `/profile/status` | 待创建 | ⏳ |
| 钱包 | `/profile/wallet` | 待创建 | ⏳ |
| 金币 | `/profile/coins` | 待创建 | ⏳ |
| 设置 | `/profile/settings` | 待创建 | ⏳ |
| 客服 | `/profile/customer-service` | 待创建 | ⏳ |
| 达人认证 | `/profile/expert-verify` | 待创建 | ⏳ |

## 🏛️ 模块依赖关系

```
┌─────────────────────────────────────────┐
│              App Root                    │
│           (Expo Router)                  │
└───────────────────┬─────────────────────┘
                    │
                    ↓
┌─────────────────────────────────────────┐
│            BottomTabBar                  │
│  [HomeTab] [DiscoverTab] [MessageTab]   │
│                  ↓                       │
│            [ProfileTab]                  │
└───────────────────┬─────────────────────┘
                    │
                    ↓
┌─────────────────────────────────────────┐
│           【ProfilePage】                │
│              我的页面                     │
│         (本文档描述的页面)                │
└───────────────────┬─────────────────────┘
                    │
    ┌───────┬───────┼───────┬───────┐
    ↓       ↓       ↓       ↓       ↓
┌───────┐┌───────┐┌───────┐┌───────┐┌───────┐
│我的发布││我的订单││我的购买││  报名  ││状态/钱包│
│ 管理  ││ 管理  ││ 管理  ││ 管理  ││金币/设置│
└───────┘└───────┘└───────┘└───────┘└───────┘
    ↓
┌─────────────────┐
│  xypai-app-bff  │ ← BFF聚合层
└────────┬────────┘
         │ Dubbo RPC
         ↓
┌─────────────────┐
│  xypai-user     │ ← 用户领域服务
└─────────────────┘
```

## 🔄 变更影响

| 变更类型 | 影响范围 | 需更新文档 |
|----------|----------|-----------|
| 新增功能入口 | 本页面 + 新子模块 | 本文档状态总览 + 新子模块快速理解 |
| 修改入口布局 | 本页面 | 本文档组件树 + UI布局说明 |
| 新增角标功能 | 本页面 + 后端 | 核心接口表 |
| 子模块路由变更 | 本页面 + 子模块 | 导航流图 + 关联子模块表 |

## 📌 开发指引

1. **导航入口页**: 本页面不涉及复杂业务逻辑，仅作为入口跳转
2. **路由命名**: 所有子页面路由统一使用 `/profile/xxx` 前缀
3. **角标实现**: 建议统一通过 badge API 获取各入口待处理数量
4. **图标资源**: 各入口图标使用统一的圆形背景 + 中心图标样式
5. **状态刷新**: 页面获得焦点时应刷新用户信息和角标数量
6. **文档维护**: 新增子模块时需同步更新本文档「状态总览」表

---
**最后更新**: 2025-12-09
