# AI Prompt: 生成模块快速理解文档

> 为任意模块(UI页面/前端组件/后端服务)生成快速理解文档，帮助开发者和Agent快速掌握模块架构。

---

## 📋 核心提示词

```
请为 [模块路径] 生成「快速理解.md」文档。

【文档规格】
- 行数: 300-500行 (根据模块复杂度调整)
- 语言: 中文
- 格式: Markdown + ASCII图 + 表格

【必需章节】

1. Quick Reference (速查表)
   - 5行表格: 路由/入口、数据模型链、核心表/存储、API前缀、文档完成度
   - 使用 → 箭头展示链路关系

2. 📌 核心定位
   - 一句话描述模块职责
   - 入口路径、模块标识、所属父模块

3. 🎯 主要功能
   - 3-5个核心功能点
   - 每条15字以内

4. 📊 状态总览
   - 表格列出所有子页面/子模块: 路径、资源文件、文档、状态
   - 进度统计 (完成/进行中/待开始)

5. 📦 数据模型
   - 树形结构展示核心模型字段
   - 标注字段类型、可选标记(?)、条件字段[type=xxx]
   - 模型继承关系用 [继承XXX] 标注
   - SharedModel 共享模型表格

6. 🌳 组件/模块树
   - 为每个主要页面/服务提供独立的层级树
   - 标注层级 [L1][L2][L3][L4]
   - 包含路由/入口信息

7. 📁 目录结构
   - 文档/资源文件树
   - 代码文件树 (如适用)
   - 使用 📋📱📝🔧 等标记区分类型

8. 🗺️ 流程/导航图
   - ASCII框图展示页面跳转或数据流
   - 标注触发条件 (点击/调用/事件)

9. 🔑 核心接口/API
   - 按功能分组的接口表格
   - 包含方法、路径、说明、参数
   - 提供典型响应结构 (JSON)

10. 🏛️ 依赖关系
    - ASCII图展示服务调用链
    - 上游 → 当前模块 → 下游

11. 💾 数据存储 (如适用)
    - 核心表/集合结构
    - 字段与数据模型的映射

12. 📋 数据流向图
    - ASCII图展示模型间转换
    - 标注数据来源

13. 🔗 关联模块
    - 上游依赖 (谁调用我)
    - 下游依赖 (我调用谁)
    - 共享资源 (复用组件/服务)
    - 使用相对路径链接到其他快速理解文档

14. 🔄 变更影响
    - 表格: 变更类型 → 影响模块 → 需更新文档

15. 📌 开发指引
    - 5-6条实用注意事项
    - 复用规范、命名规范、接口规范等

【编写原则】
- 面向Agent: 重点帮助快速理解模块关系和数据流
- 速查优先: 顶部Quick Reference实现5秒定位
- 可视化: 优先使用ASCII图和表格，减少纯文本
- 一致性: 数据模型、接口响应、存储字段三者对应
- 链接化: 关联模块使用相对路径链接
```

---

## 🎯 适用场景

| 场景 | 提示词示例 |
|------|-----------|
| UI页面模块 | `请为 UI页面/用户中心/订单管理/ 生成快速理解文档` |
| 前端组件库 | `请为 src/components/Form/ 生成快速理解文档` |
| 后端服务 | `请为 services/user-service/ 生成快速理解文档` |
| 微服务模块 | `请为 xypai-modules/xypai-order/ 生成快速理解文档` |
| 更新文档 | `我刚添加了XXX功能，请更新该模块的快速理解.md` |

---

## 📊 质量检查清单

| 维度 | 要求 |
|------|------|
| Quick Reference | 5行速查表，包含 → 链路 |
| 数据模型 | 树形结构 + 类型标注 + 可选标记 |
| 组件/模块树 | 每个主要单元独立树，含L1-L4层级 |
| 流程图 | ASCII图 + 触发条件标注 |
| 接口分组 | 按功能分组 + JSON响应示例 |
| 数据流向 | ASCII图展示模型转换 + 数据来源 |
| 关联模块 | 上游/下游/共享 三类 + 相对路径链接 |
| 变更影响 | 变更类型 → 影响范围 → 文档更新 |

---

## ⚠️ 注意事项

1. **文件位置**: 快速理解.md 放在模块根目录
2. **相对路径**: 关联模块使用 `[快速理解.md](../Module/快速理解.md)` 格式
3. **状态同步**: 模块变更后及时更新对应章节
4. **按需裁剪**: 根据模块类型省略不适用章节 (如纯前端无需数据库章节)

---

## 附: 扩展性要求

> 当需要支持**实现数据关联的未知子页面**时，按需补充以下内容。

### 附1: 被引用模型展开

数据模型中若出现 `Array<XXXItem>` 或 `xxxData` 引用，需完整展开字段定义：

```
要求: 被引用模型必须有独立的字段树
检查: 搜索 Array<、Data> 等引用，确认每个都有对应展开
```

### 附2: 条件字段完整性

`[按type条件]` `[条件:xxx]` 标注的字段需展开所有分支：

```
要求: 每个条件分支的字段结构独立列出
格式: typeSpecificData [根据type字段切换]
      ├── [type=A] aData { 字段... }
      ├── [type=B] bData { 字段... }
      └── [type=C] cData { 字段... }
```

### 附3: 数据库表关系

核心表之间的FK关系需用图示标注：

```
要求: 表间关系用 (1)──→(N) 箭头标注
包含: FK字段名、关系基数(1:1, 1:N, N:M)、条件关联
```

### 附4: 接口参数详情

核心接口表增加参数与响应结构列：

```
要求: 列出请求参数 + 响应数据结构
格式: | 接口 | 方法 | 参数 | 响应结构 | 说明 |
```

### 附5: 状态管理模式 (前端)

文档应包含页面状态管理方式：

```
要求: 标注 Hook/Store/Context 使用模式
包含: 状态流向、数据更新触发点
```

### 附6: 子表字段映射

除主表外，关联子表也需字段映射：

```
要求: 每个核心表单独列出字段
格式: table_name: field1, field2, field3...
```

---

*Version: v3.1 | Updated: 2025-12-09*
