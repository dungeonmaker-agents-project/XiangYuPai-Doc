xypai-content (å†…å®¹æœåŠ¡æ¨¡å— - ç«¯å£:9402)

ğŸ“Œ è¯¦ç»†å¯¹æ¥æ–‡æ¡£ï¼š./æ¥å£å¯¹æ¥å‰ç«¯é¡µé¢æ˜ å°„.md
â”‚
â”œâ”€ğŸ“‚ å‘ç°é¡µé¢å…¬å¼€æ¥å£ (/api/v1/discovery/**)  âœ… æ— éœ€ç™»å½•
â”‚  â”‚
â”‚  â”œâ”€ğŸ”¥ è·å–çƒ­é—¨å†…å®¹
â”‚  â”‚   â””â”€ GET /api/v1/discovery/hot
â”‚  â”‚      â”œâ”€ å‚æ•°: type (å†…å®¹ç±»å‹), limit (æ•°é‡é™åˆ¶)
â”‚  â”‚      â””â”€ è¿”å›: List<ContentListVO>
â”‚  â”‚
â”‚  â”œâ”€â­ è·å–æ¨èå†…å®¹
â”‚  â”‚   â””â”€ GET /api/v1/discovery/recommended
â”‚  â”‚      â”œâ”€ å‚æ•°: type (å†…å®¹ç±»å‹), limit (æ•°é‡é™åˆ¶)
â”‚  â”‚      â””â”€ è¿”å›: List<ContentListVO>
â”‚  â”‚
â”‚  â”œâ”€ğŸ˜ï¸ è·å–åŒåŸå†…å®¹
â”‚  â”‚   â””â”€ GET /api/v1/discovery/local
â”‚  â”‚      â”œâ”€ å‚æ•°: city (åŸå¸‚åç§°), type (å†…å®¹ç±»å‹), limit (æ•°é‡)
â”‚  â”‚      â””â”€ è¿”å›: List<ContentListVO>
â”‚  â”‚
â”‚  â”œâ”€ğŸ” æœç´¢å†…å®¹
â”‚  â”‚   â””â”€ GET /api/v1/discovery/search
â”‚  â”‚      â”œâ”€ å‚æ•°: keyword (æœç´¢å…³é”®è¯), type (å†…å®¹ç±»å‹), limit (æ•°é‡)
â”‚  â”‚      â””â”€ è¿”å›: List<ContentListVO>
â”‚  â”‚
â”‚  â”œâ”€ğŸ“„ è·å–å†…å®¹è¯¦æƒ…
â”‚  â”‚   â””â”€ GET /api/v1/discovery/{contentId}
â”‚  â”‚      â”œâ”€ å‚æ•°: contentId (å†…å®¹ID)
â”‚  â”‚      â”œâ”€ åŠŸèƒ½: å¢åŠ æµè§ˆæ•°
â”‚  â”‚      â””â”€ è¿”å›: ContentDetailVO
â”‚  â”‚
â”‚  â”œâ”€ğŸ“ è·å–é™„è¿‘å†…å®¹ (åŸºäºåœ°ç†ä½ç½®) â­ ä½¿ç”¨ç©ºé—´ç´¢å¼•
â”‚  â”‚   â””â”€ GET /api/v1/discovery/nearby
â”‚  â”‚      â”œâ”€ å‚æ•°: longitude (ç»åº¦), latitude (çº¬åº¦)
â”‚  â”‚      â”‚       radius (åŠå¾„ç±³æ•°), type (å†…å®¹ç±»å‹), limit (æ•°é‡)
â”‚  â”‚      â””â”€ è¿”å›: List<ContentListVO>
â”‚  â”‚
â”‚  â”œâ”€ğŸ™ï¸ è·å–åŸå¸‚å†…å®¹
â”‚  â”‚   â””â”€ GET /api/v1/discovery/city/{cityId}
â”‚  â”‚      â”œâ”€ å‚æ•°: cityId (åŸå¸‚ID), type (å†…å®¹ç±»å‹), limit (æ•°é‡)
â”‚  â”‚      â””â”€ è¿”å›: List<ContentListVO>
â”‚  â”‚
â”‚  â””â”€ğŸ‘¤ è·å–ç”¨æˆ·å‘å¸ƒçš„å†…å®¹
â”‚      â””â”€ GET /api/v1/discovery/user/{userId}
â”‚         â”œâ”€ å‚æ•°: userId (ç”¨æˆ·ID), type (å†…å®¹ç±»å‹), limit (æ•°é‡)
â”‚         â””â”€ è¿”å›: List<ContentListVO>
â”‚
â”œâ”€ğŸ“‚ å†…å®¹å‘å¸ƒç®¡ç† (/api/v1/contents/**)  ğŸ”’ éœ€è¦ç™»å½•
â”‚  â”‚
â”‚  â”œâ”€âœï¸ APP-å‘å¸ƒå†…å®¹
â”‚  â”‚   â””â”€ POST /api/v1/contents/app/publish
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin (éœ€è¦ç™»å½•)
â”‚  â”‚      â”œâ”€ è¯·æ±‚ä½“: ContentAddDTO
â”‚  â”‚      â””â”€ è¿”å›: contentId (å†…å®¹ID)
â”‚  â”‚
â”‚  â”œâ”€âœï¸ APP-ç¼–è¾‘å†…å®¹
â”‚  â”‚   â””â”€ PUT /api/v1/contents/app/{contentId}
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin (éœ€è¦ç™»å½•ï¼Œåªèƒ½ç¼–è¾‘è‡ªå·±çš„)
â”‚  â”‚      â”œâ”€ è¯·æ±‚ä½“: ContentUpdateDTO
â”‚  â”‚      â””â”€ è¿”å›: R<Void>
â”‚  â”‚
â”‚  â”œâ”€ğŸ—‘ï¸ APP-åˆ é™¤å†…å®¹
â”‚  â”‚   â””â”€ DELETE /api/v1/contents/app/{contentId}
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin (éœ€è¦ç™»å½•ï¼Œåªèƒ½åˆ é™¤è‡ªå·±çš„)
â”‚  â”‚      â””â”€ è¿”å›: R<Void>
â”‚  â”‚
â”‚  â””â”€ğŸ“‹ APP-è·å–æˆ‘çš„å†…å®¹åˆ—è¡¨
â”‚      â””â”€ GET /api/v1/contents/app/my
â”‚         â”œâ”€ æƒé™: @SaCheckLogin (éœ€è¦ç™»å½•)
â”‚         â”œâ”€ å‚æ•°: type (å†…å®¹ç±»å‹), status (å†…å®¹çŠ¶æ€), pageNum, pageSize
â”‚         â””â”€ è¿”å›: List<ContentListVO>
â”‚
â”œâ”€ğŸ“‚ å†…å®¹äº’åŠ¨æ“ä½œ (/api/v1/actions/**)  ğŸ”’ éœ€è¦ç™»å½•
â”‚  â”‚
â”‚  â”œâ”€ğŸ‘ ç‚¹èµ/å–æ¶ˆç‚¹èµ
â”‚  â”‚   â””â”€ POST /api/v1/actions/like
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin
â”‚  â”‚      â”œâ”€ è¯·æ±‚ä½“: ContentActionDTO {contentId}
â”‚  â”‚      â””â”€ è¿”å›: R<Void>
â”‚  â”‚
â”‚  â”œâ”€â­ æ”¶è—/å–æ¶ˆæ”¶è—
â”‚  â”‚   â””â”€ POST /api/v1/actions/collect
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin
â”‚  â”‚      â”œâ”€ è¯·æ±‚ä½“: ContentActionDTO {contentId}
â”‚  â”‚      â””â”€ è¿”å›: R<Void>
â”‚  â”‚
â”‚  â”œâ”€ğŸ“¤ åˆ†äº«å†…å®¹
â”‚  â”‚   â””â”€ POST /api/v1/actions/share
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin
â”‚  â”‚      â”œâ”€ è¯·æ±‚ä½“: ContentActionDTO {contentId}
â”‚  â”‚      â””â”€ è¿”å›: R<Void>
â”‚  â”‚
â”‚  â”œâ”€â“ æ£€æŸ¥ç‚¹èµçŠ¶æ€
â”‚  â”‚   â””â”€ GET /api/v1/actions/like/status/{contentId}
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin
â”‚  â”‚      â””â”€ è¿”å›: R<Boolean>
â”‚  â”‚
â”‚  â”œâ”€â“ æ£€æŸ¥æ”¶è—çŠ¶æ€
â”‚  â”‚   â””â”€ GET /api/v1/actions/collect/status/{contentId}
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin
â”‚  â”‚      â””â”€ è¿”å›: R<Boolean>
â”‚  â”‚
â”‚  â”œâ”€ğŸ“¦ æ‰¹é‡æ£€æŸ¥ç‚¹èµçŠ¶æ€
â”‚  â”‚   â””â”€ POST /api/v1/actions/like/batch-status
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin
â”‚  â”‚      â”œâ”€ è¯·æ±‚ä½“: List<Long> contentIds
â”‚  â”‚      â””â”€ è¿”å›: R<Map<Long, Boolean>>
â”‚  â”‚
â”‚  â”œâ”€ğŸ“¦ æ‰¹é‡æ£€æŸ¥æ”¶è—çŠ¶æ€
â”‚  â”‚   â””â”€ POST /api/v1/actions/collect/batch-status
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin
â”‚  â”‚      â”œâ”€ è¯·æ±‚ä½“: List<Long> contentIds
â”‚  â”‚      â””â”€ è¿”å›: R<Map<Long, Boolean>>
â”‚  â”‚
â”‚  â”œâ”€ğŸ“‹ è·å–æˆ‘çš„ç‚¹èµåˆ—è¡¨
â”‚  â”‚   â””â”€ GET /api/v1/actions/like/my
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin
â”‚  â”‚      â”œâ”€ å‚æ•°: pageNum, pageSize
â”‚  â”‚      â””â”€ è¿”å›: R<List<ContentListVO>>
â”‚  â”‚
â”‚  â””â”€ğŸ“‹ è·å–æˆ‘çš„æ”¶è—åˆ—è¡¨
â”‚      â””â”€ GET /api/v1/actions/collect/my
â”‚         â”œâ”€ æƒé™: @SaCheckLogin
â”‚         â”œâ”€ å‚æ•°: pageNum, pageSize
â”‚         â””â”€ è¿”å›: R<List<ContentListVO>>
â”‚
â”œâ”€ğŸ“‚ è¯„è®ºç®¡ç† (/api/v1/comments/**)
â”‚  â”‚
â”‚  â”œâ”€âœï¸ APP-å‘è¡¨è¯„è®º
â”‚  â”‚   â””â”€ POST /api/v1/comments/app
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin (éœ€è¦ç™»å½•)
â”‚  â”‚      â”œâ”€ è¯·æ±‚ä½“: CommentAddDTO
â”‚  â”‚      â””â”€ è¿”å›: R<Long> commentId
â”‚  â”‚
â”‚  â”œâ”€ğŸ—‘ï¸ APP-åˆ é™¤è¯„è®º
â”‚  â”‚   â””â”€ DELETE /api/v1/comments/app/{commentId}
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin (åªèƒ½åˆ é™¤è‡ªå·±çš„)
â”‚  â”‚      â””â”€ è¿”å›: R<Void>
â”‚  â”‚
â”‚  â”œâ”€ğŸ“‹ APP-è·å–è¯„è®ºåˆ—è¡¨  âœ… æ— éœ€ç™»å½•
â”‚  â”‚   â””â”€ GET /api/v1/comments/app/content/{contentId}
â”‚  â”‚      â”œâ”€ å‚æ•°: contentId, pageNum, pageSize
â”‚  â”‚      â””â”€ è¿”å›: R<List<CommentVO>>
â”‚  â”‚
â”‚  â”œâ”€ğŸ’¬ APP-è·å–è¯„è®ºå›å¤  âœ… æ— éœ€ç™»å½•
â”‚  â”‚   â””â”€ GET /api/v1/comments/app/{parentId}/replies
â”‚  â”‚      â”œâ”€ å‚æ•°: parentId (ä¸€çº§è¯„è®ºID)
â”‚  â”‚      â””â”€ è¿”å›: R<List<CommentVO>>
â”‚  â”‚
â”‚  â”œâ”€ğŸ‘ APP-è¯„è®ºç‚¹èµ
â”‚  â”‚   â””â”€ POST /api/v1/comments/app/{commentId}/like
â”‚  â”‚      â”œâ”€ æƒé™: @SaCheckLogin (éœ€è¦ç™»å½•)
â”‚  â”‚      â””â”€ è¿”å›: R<Boolean> (true=ç‚¹èµ, false=å–æ¶ˆç‚¹èµ)
â”‚  â”‚
â”‚  â””â”€ğŸ“Š APP-ç»Ÿè®¡è¯„è®ºæ•°  âœ… æ— éœ€ç™»å½•
â”‚      â””â”€ GET /api/v1/comments/app/count/{contentId}
â”‚         â”œâ”€ å‚æ•°: contentId
â”‚         â””â”€ è¿”å›: R<Long> è¯„è®ºæ€»æ•°
â”‚
â””â”€ğŸ“‚ è‰ç¨¿ç®¡ç† (/api/v1/drafts/**)  ğŸ”’ éœ€è¦ç™»å½•
   â”‚
   â”œâ”€ğŸ’¾ ä¿å­˜è‰ç¨¿ (è‡ªåŠ¨/æ‰‹åŠ¨)
   â”‚   â””â”€ POST /api/v1/drafts/save
   â”‚      â”œâ”€ æƒé™: @SaCheckPermission("content:draft:add")
   â”‚      â”œâ”€ è¯·æ±‚ä½“: ContentDraftSaveDTO
   â”‚      â””â”€ è¿”å›: R<Long> draftId
   â”‚
   â”œâ”€ğŸ“„ è·å–è‰ç¨¿è¯¦æƒ…
   â”‚   â””â”€ GET /api/v1/drafts/{draftId}
   â”‚      â”œâ”€ æƒé™: @SaCheckPermission("content:draft:query")
   â”‚      â””â”€ è¿”å›: R<ContentDraftVO>
   â”‚
   â”œâ”€ğŸ“‹ è·å–æˆ‘çš„è‰ç¨¿åˆ—è¡¨
   â”‚   â””â”€ GET /api/v1/drafts/my
   â”‚      â”œâ”€ æƒé™: @SaCheckPermission("content:draft:query")
   â”‚      â”œâ”€ å‚æ•°: limit (æ•°é‡é™åˆ¶)
   â”‚      â””â”€ è¿”å›: R<List<ContentDraftVO>>
   â”‚
   â”œâ”€ğŸ—‘ï¸ åˆ é™¤è‰ç¨¿
   â”‚   â””â”€ DELETE /api/v1/drafts/{draftId}
   â”‚      â”œâ”€ æƒé™: @SaCheckPermission("content:draft:remove")
   â”‚      â””â”€ è¿”å›: R<Void>
   â”‚
   â”œâ”€ğŸ“¤ å‘å¸ƒè‰ç¨¿
   â”‚   â””â”€ POST /api/v1/drafts/{draftId}/publish
   â”‚      â”œâ”€ æƒé™: @SaCheckPermission("content:draft:publish")
   â”‚      â””â”€ è¿”å›: R<Long> contentId (å‘å¸ƒåçš„å†…å®¹ID)
   â”‚
   â””â”€ğŸ“Š ç»Ÿè®¡è‰ç¨¿æ•°é‡
       â””â”€ GET /api/v1/drafts/count
          â”œâ”€ æƒé™: @SaCheckPermission("content:draft:query")
          â””â”€ è¿”å›: R<Long> è‰ç¨¿æ€»æ•°